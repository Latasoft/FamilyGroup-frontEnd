<section class="container mx-auto px-4 py-10">
    <!-- Encabezado -->
    <header class="text-center mb-6">
        <h1 class="text-2xl font-bold text-gray-800">
            {{ isEditMode ? 'Actualizar Agente' : 'Registrar Agente' }}
        </h1>
    </header>

    <!-- Contenedor del formulario -->
    <div class="flex justify-center items-center min-h-[100px]">
        <form (ngSubmit)="onSubmit()" class="max-w-4xl mx-auto bg-gray-100 p-8 rounded-lg shadow-lg" [formGroup]="agentForm">
            <!-- Campos del Formulario -->
            <div class="grid grid-cols-2 gap-4">

                <div class="mb-4">
                    <label for="titulo_agente" class="block text-sm font-medium text-gray-700">Titulo Agente</label>
                    <input
                        id="titulo_agente"
                        type="text"
                        formControlName="titulo_agente"
                        class="w-full border-gray-300 rounded-md shadow-sm"
                    />
                </div>
                <div class="mb-4">
                    <label for="nombre" class="block text-sm font-medium text-gray-700">Nombre</label>
                    <input
                        id="nombre"
                        type="text"
                        formControlName="nombre"
                        class="w-full border-gray-300 rounded-md shadow-sm"
                    />
                </div>
                <div class="mb-4">
                    <label for="apellido" class="block text-sm font-medium text-gray-700">Apellido</label>
                    <input
                        id="apellido"
                        type="text"
                        formControlName="apellido"
                        class="w-full border-gray-300 rounded-md shadow-sm"
                    />
                </div>
                <div class="mb-4">
                    <label for="rut_agente" class="block text-sm font-medium text-gray-700">RUT Agente</label>
                    <input
                        id="rut_agente"
                        type="text"
                        formControlName="rut_agente"
                        class="w-full border-gray-300 rounded-md shadow-sm"
                    />
                </div>
                <div class="mb-4">
                    <label for="email_agente" class="block text-sm font-medium text-gray-700">Email</label>
                    <input
                        id="email_agente"
                        type="email"
                        formControlName="email_agente"
                        class="w-full border-gray-300 rounded-md shadow-sm"
                    />
                </div>
                <div class="mb-4">
                    <label for="telefono_agente" class="block text-sm font-medium text-gray-700">Teléfono</label>
                    <input
                        id="telefono_agente"
                        type="text"
                        formControlName="telefono_agente"
                        class="w-full border-gray-300 rounded-md shadow-sm"
                    />
                </div>
            </div>

            <!-- Mostrar Imagen Actual -->
            <div *ngIf="existFile" class="mb-6 text-center">
                <img
                    [src]="existFile"
                    alt="Imagen del Agente"
                    class="w-32 h-32 object-cover rounded-full mx-auto shadow-md"
                />
                <p class="text-sm text-gray-600 mt-2">Imagen actual</p>
            </div>

            <!-- Subir Nueva Imagen -->
            <div class="mb-4 col-span-2">
                <label for="foto_agente" class="block text-sm font-medium text-gray-700 mb-2">Subir Nueva Imagen</label>
                <input
                    id="foto_agente"
                    type="file"
                    formControlName="foto_agente"
                    (change)="onFileChange($event)"
                    class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"
                    accept="image/png, image/jpeg"
                />
            </div>

            <!-- Botón Guardar -->
            <div class="text-center mt-6">
                <button
                    type="submit"
                    class="bg-blue-500 text-white px-6 py-2 rounded-md hover:bg-blue-600 transition duration-200"
                >
                    {{ isEditMode ? 'Actualizar' : 'Registrar' }}
                </button>
            </div>
        </form>
    </div>
</section>
